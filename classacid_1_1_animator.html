<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.18"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Acid: acid::Animator Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Acid
								&#160;<span id="projectnumber">0.14.1</span>
							</div>
							<div id="projectbrief">A high speed C++17 Vulkan game engine.</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceacid.html">acid</a></li><li class="navelem"><a class="el" href="classacid_1_1_animator.html">Animator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">acid::Animator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that contains all the functionality to apply an animation to an animated entity. An <a class="el" href="classacid_1_1_animator.html" title="Class that contains all the functionality to apply an animation to an animated entity....">Animator</a> instance is associated with just one animated entity. It also keeps track of the running time (in seconds) of the current animation, along with a reference to the currently playing animation for the corresponding entity.  
 <a href="classacid_1_1_animator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_animator_8hpp_source.html">Animator.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abbc2d4350569934ca2c0ac763c594c62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#abbc2d4350569934ca2c0ac763c594c62">Update</a> (const <a class="el" href="classacid_1_1_joint.html">Joint</a> &amp;rootJoint, std::vector&lt; <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; &amp;jointMatrices)</td></tr>
<tr class="separator:abbc2d4350569934ca2c0ac763c594c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad735fe5d6ef1d389935efa8fd133a938"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#ad735fe5d6ef1d389935efa8fd133a938">IncreaseAnimationTime</a> ()</td></tr>
<tr class="separator:ad735fe5d6ef1d389935efa8fd133a938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30eb40654e82a863fd9e1d1dd7581209"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#a30eb40654e82a863fd9e1d1dd7581209">CalculateCurrentAnimationPose</a> () const</td></tr>
<tr class="separator:a30eb40654e82a863fd9e1d1dd7581209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac429fb586973614a3b64f6f91a3740d2"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a>, <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#ac429fb586973614a3b64f6f91a3740d2">GetPreviousAndNextFrames</a> () const</td></tr>
<tr class="separator:ac429fb586973614a3b64f6f91a3740d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d8a6e37c6dcb8299a08d27ef4e111c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#a62d8a6e37c6dcb8299a08d27ef4e111c">CalculateProgression</a> (const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;previousFrame, const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;nextFrame) const</td></tr>
<tr class="separator:a62d8a6e37c6dcb8299a08d27ef4e111c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cfcdbe50743e9a813f428dbb1c3e906"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#a1cfcdbe50743e9a813f428dbb1c3e906">InterpolatePoses</a> (const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;previousFrame, const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;nextFrame, float progression) const</td></tr>
<tr class="separator:a1cfcdbe50743e9a813f428dbb1c3e906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc81860d4612eb50690a6c91409b9f43"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classacid_1_1_animation.html">Animation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#acc81860d4612eb50690a6c91409b9f43">GetCurrentAnimation</a> () const</td></tr>
<tr class="separator:acc81860d4612eb50690a6c91409b9f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c88f3b887a50de7f2d0cca11ec44fc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#a4c88f3b887a50de7f2d0cca11ec44fc3">DoAnimation</a> (<a class="el" href="classacid_1_1_animation.html">Animation</a> *animation)</td></tr>
<tr class="separator:a4c88f3b887a50de7f2d0cca11ec44fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a59dbd93c8620d3e443f2ff9315e21e05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#a59dbd93c8620d3e443f2ff9315e21e05">CalculateJointPose</a> (const std::map&lt; std::string, <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; &amp;currentPose, const <a class="el" href="classacid_1_1_joint.html">Joint</a> &amp;joint, const <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &amp;parentTransform, std::vector&lt; <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; &amp;jointMatrices)</td></tr>
<tr class="separator:a59dbd93c8620d3e443f2ff9315e21e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad172f71a791eeae93a44a0fe4055c095"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classacid_1_1_time.html">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#ad172f71a791eeae93a44a0fe4055c095">animationTime</a></td></tr>
<tr class="separator:ad172f71a791eeae93a44a0fe4055c095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d843ba5747669e794d2b8ef3cd61be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classacid_1_1_animation.html">Animation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_animator.html#a14d843ba5747669e794d2b8ef3cd61be">currentAnimation</a> = nullptr</td></tr>
<tr class="separator:a14d843ba5747669e794d2b8ef3cd61be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that contains all the functionality to apply an animation to an animated entity. An <a class="el" href="classacid_1_1_animator.html" title="Class that contains all the functionality to apply an animation to an animated entity....">Animator</a> instance is associated with just one animated entity. It also keeps track of the running time (in seconds) of the current animation, along with a reference to the currently playing animation for the corresponding entity. </p>
<p>An <a class="el" href="classacid_1_1_animator.html" title="Class that contains all the functionality to apply an animation to an animated entity....">Animator</a> instance needs to be updated every frame, in order for it to keep updating the animation pose of the associated entity. The currently playing animation can be changed at any time using <a class="el" href="classacid_1_1_animator.html#a4c88f3b887a50de7f2d0cca11ec44fc3">Animator#DoAnimation</a>. The <a class="el" href="classacid_1_1_animator.html" title="Class that contains all the functionality to apply an animation to an animated entity....">Animator</a> will keep looping the current animation until a new animation is chosen. The <a class="el" href="classacid_1_1_animator.html" title="Class that contains all the functionality to apply an animation to an animated entity....">Animator</a> calculates the desired current animation pose by interpolating between the previous and next keyframes of the animation (based on the current animation time). The <a class="el" href="classacid_1_1_animator.html" title="Class that contains all the functionality to apply an animation to an animated entity....">Animator</a> then updates the transforms all of the joints each frame to match the current desired animation pose. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a30eb40654e82a863fd9e1d1dd7581209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30eb40654e82a863fd9e1d1dd7581209">&#9670;&nbsp;</a></span>CalculateCurrentAnimationPose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; acid::Animator::CalculateCurrentAnimationPose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method returns the current animation pose of the entity. It returns the desired local-space transforms for all the joints in a map, indexed by the name of the joint that they correspond to.</p>
<p>The pose is calculated based on the previous and next keyframes in the current animation. Each keyframe provides the desired pose at a certain time in the animation, so the animated pose for the current time can be calculated by interpolating between the previous and next keyframe.</p>
<p>This method first finds the previous and next keyframe, calculates how far between the two the current animation is, and then calculated the pose for the current animation time by interpolating between the transforms at those keyframes.</p>
<dl class="section return"><dt>Returns</dt><dd>The current pose as a map of the desired local-space transforms for all the joints. The transforms are indexed by the name ID of the joint that they should be applied to. </dd></dl>

</div>
</div>
<a id="a59dbd93c8620d3e443f2ff9315e21e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59dbd93c8620d3e443f2ff9315e21e05">&#9670;&nbsp;</a></span>CalculateJointPose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void acid::Animator::CalculateJointPose </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; std::string, <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>currentPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_joint.html">Joint</a> &amp;&#160;</td>
          <td class="paramname"><em>joint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>parentTransform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>jointMatrices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method applies the current pose to a given joint, and all of its descendants. It does this by getting the desired local-transform for the current joint, before applying it to the joint. Before applying the transformations it needs to be converted from local-space to model-space (so that they are relative to the model's origin, rather than relative to the parent joint). This can be done by multiplying the local-transform of the joint with the model-space transform of the parent joint.</p>
<p>The same thing is then done to all the child joints.</p>
<p>Finally the inverse of the joint's bind transform is multiplied with the model-space transform of the joint. This basically "subtracts" the joint's original bind (no animation applied) transform from the desired pose transform. The result of this is then the transform required to move the joint from its original model-space transform to it's desired model-space posed transform. This is the transform that needs to be loaded up to the vertex shader and used to transform the vertices into the current pose. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentPose</td><td>A map of the local-space transforms for all the joints for the desired pose. The map is indexed by the name of the joint which the transform corresponds to. </td></tr>
    <tr><td class="paramname">joint</td><td>The current joint which the pose should be applied to. </td></tr>
    <tr><td class="paramname">parentTransform</td><td>The desired model-space transform of the parent joint for the pose. </td></tr>
    <tr><td class="paramname">jointMatrices</td><td>The transforms that get loaded up to the shader and is used to deform the vertices of the "skin". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62d8a6e37c6dcb8299a08d27ef4e111c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62d8a6e37c6dcb8299a08d27ef4e111c">&#9670;&nbsp;</a></span>CalculateProgression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float acid::Animator::CalculateProgression </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;&#160;</td>
          <td class="paramname"><em>previousFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;&#160;</td>
          <td class="paramname"><em>nextFrame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates how far between the previous and next keyframe the current animation time is, and returns it as a value between 0 and 1. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previousFrame</td><td>The previous keyframe in the animation. </td></tr>
    <tr><td class="paramname">nextFrame</td><td>The next keyframe in the animation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A number between 0 and 1 indicating how far between the two keyframes the current animation time is. </dd></dl>

</div>
</div>
<a id="a4c88f3b887a50de7f2d0cca11ec44fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c88f3b887a50de7f2d0cca11ec44fc3">&#9670;&nbsp;</a></span>DoAnimation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acid::Animator::DoAnimation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classacid_1_1_animation.html">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates that the entity should carry out the given animation. Resets the animation time so that the new animation starts from the beginning. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The new animation to carry out. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc81860d4612eb50690a6c91409b9f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc81860d4612eb50690a6c91409b9f43">&#9670;&nbsp;</a></span>GetCurrentAnimation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classacid_1_1_animation.html">Animation</a>* acid::Animator::GetCurrentAnimation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac429fb586973614a3b64f6f91a3740d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac429fb586973614a3b64f6f91a3740d2">&#9670;&nbsp;</a></span>GetPreviousAndNextFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a>, <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &gt; acid::Animator::GetPreviousAndNextFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds the previous keyframe in the animation and the next keyframe in the animation, and returns them in an array of length 2. If there is no previous frame (perhaps current animation time is 0.5 and the first keyframe is at time 1.5) then the next keyframe is used as both the previous and next keyframe. The reverse happens if there is no next keyframe. </p><dl class="section return"><dt>Returns</dt><dd>The previous and next keyframes, in an array which therefore will always have a length of 2. </dd></dl>

</div>
</div>
<a id="ad735fe5d6ef1d389935efa8fd133a938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad735fe5d6ef1d389935efa8fd133a938">&#9670;&nbsp;</a></span>IncreaseAnimationTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acid::Animator::IncreaseAnimationTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increases the current animation time which allows the animation to progress. If the current animation has reached the end then the timer is reset, causing the animation to loop. </p>

</div>
</div>
<a id="a1cfcdbe50743e9a813f428dbb1c3e906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cfcdbe50743e9a813f428dbb1c3e906">&#9670;&nbsp;</a></span>InterpolatePoses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; acid::Animator::InterpolatePoses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;&#160;</td>
          <td class="paramname"><em>previousFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_keyframe.html">Keyframe</a> &amp;&#160;</td>
          <td class="paramname"><em>nextFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>progression</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates all the local-space joint transforms for the desired current pose by interpolating between the transforms at the previous and next keyframes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previousFrame</td><td>The previous keyframe in the animation. </td></tr>
    <tr><td class="paramname">nextFrame</td><td>The next keyframe in the animation. </td></tr>
    <tr><td class="paramname">progression</td><td>A number between 0 and 1 indicating how far between the previous and next keyframes the current animation time is. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The local-space transforms for all the joints for the desired current pose. They are returned in a map, indexed by the name of the joint to which they should be applied. </dd></dl>

</div>
</div>
<a id="abbc2d4350569934ca2c0ac763c594c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc2d4350569934ca2c0ac763c594c62">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acid::Animator::Update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_joint.html">Joint</a> &amp;&#160;</td>
          <td class="paramname"><em>rootJoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classacid_1_1_matrix4.html">Matrix4</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>jointMatrices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method should be called each frame to update the animation currently being played. This increases the animation time (and loops it back to zero if necessary), finds the pose that the entity should be in at that time of the animation, and then applied that pose to all the entity's joints. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rootJoint</td><td>The root joint of the joint hierarchy which makes up the "skeleton" of the entity. </td></tr>
    <tr><td class="paramname">jointMatrices</td><td>The transforms that get loaded up to the shader and is used to deform the vertices of the "skin". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="ad172f71a791eeae93a44a0fe4055c095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad172f71a791eeae93a44a0fe4055c095">&#9670;&nbsp;</a></span>animationTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classacid_1_1_time.html">Time</a> acid::Animator::animationTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a14d843ba5747669e794d2b8ef3cd61be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d843ba5747669e794d2b8ef3cd61be">&#9670;&nbsp;</a></span>currentAnimation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classacid_1_1_animation.html">Animation</a>* acid::Animator::currentAnimation = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Sources/Animations/<a class="el" href="_animator_8hpp_source.html">Animator.hpp</a></li>
<li>Sources/Animations/<a class="el" href="_animator_8cpp.html">Animator.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>