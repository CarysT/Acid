<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.18"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Acid: acid::SocketSelector Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Acid
								&#160;<span id="projectnumber">0.14.1</span>
							</div>
							<div id="projectbrief">A high speed C++17 Vulkan game engine.</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceacid.html">acid</a></li><li class="navelem"><a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">acid::SocketSelector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classacid_1_1_socket.html" title="This class mainly defines internal stuff to be used by derived classes.">Socket</a> selectors provide a way to wait until some data is available on a set of sockets, instead of just one. This is convenient when you have multiple sockets that may possibly receive data, but you don't know which one will be ready first. In particular, it avoids to use a thread for each socket; with selectors, a single thread can handle all the sockets.  
 <a href="classacid_1_1_socket_selector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_socket_selector_8hpp_source.html">SocketSelector.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structacid_1_1_socket_selector_1_1_socket_selector_impl.html">SocketSelectorImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abb250b3cfd757f551a94f8872d2eaa08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#abb250b3cfd757f551a94f8872d2eaa08">SocketSelector</a> ()</td></tr>
<tr class="separator:abb250b3cfd757f551a94f8872d2eaa08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55132883948e4dec0eca3b215570cda9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#a55132883948e4dec0eca3b215570cda9">SocketSelector</a> (const <a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a> &amp;copy)</td></tr>
<tr class="separator:a55132883948e4dec0eca3b215570cda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4632190ba698c86cdbad121ea22af7cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#a4632190ba698c86cdbad121ea22af7cd">Add</a> (<a class="el" href="classacid_1_1_socket.html">Socket</a> &amp;socket)</td></tr>
<tr class="separator:a4632190ba698c86cdbad121ea22af7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a38c3a0924d271de15d3663c1f2354d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#a8a38c3a0924d271de15d3663c1f2354d">Remove</a> (<a class="el" href="classacid_1_1_socket.html">Socket</a> &amp;socket)</td></tr>
<tr class="separator:a8a38c3a0924d271de15d3663c1f2354d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a3ba6a513048c936d40dcd7d7b3608"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#a63a3ba6a513048c936d40dcd7d7b3608">Clear</a> ()</td></tr>
<tr class="separator:a63a3ba6a513048c936d40dcd7d7b3608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f61c57abc2398f9877bdd186def4ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#a96f61c57abc2398f9877bdd186def4ae">Wait</a> (<a class="el" href="classacid_1_1_time.html">Time</a> timeout=0s)</td></tr>
<tr class="separator:a96f61c57abc2398f9877bdd186def4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc264d737619969d18d694c4672e1033"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#abc264d737619969d18d694c4672e1033">IsReady</a> (const <a class="el" href="classacid_1_1_socket.html">Socket</a> &amp;socket) const</td></tr>
<tr class="separator:abc264d737619969d18d694c4672e1033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffa66e218e150a4abd7e428c7a81f52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#acffa66e218e150a4abd7e428c7a81f52">operator=</a> (const <a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a> &amp;right)</td></tr>
<tr class="separator:acffa66e218e150a4abd7e428c7a81f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae20816dc0f12acbbf104dffc9607e4a9"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structacid_1_1_socket_selector_1_1_socket_selector_impl.html">SocketSelectorImpl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classacid_1_1_socket_selector.html#ae20816dc0f12acbbf104dffc9607e4a9">impl</a></td></tr>
<tr class="memdesc:ae20816dc0f12acbbf104dffc9607e4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque pointer to the implementation (which requires OS-specific types).  <a href="classacid_1_1_socket_selector.html#ae20816dc0f12acbbf104dffc9607e4a9">More...</a><br /></td></tr>
<tr class="separator:ae20816dc0f12acbbf104dffc9607e4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classacid_1_1_socket.html" title="This class mainly defines internal stuff to be used by derived classes.">Socket</a> selectors provide a way to wait until some data is available on a set of sockets, instead of just one. This is convenient when you have multiple sockets that may possibly receive data, but you don't know which one will be ready first. In particular, it avoids to use a thread for each socket; with selectors, a single thread can handle all the sockets. </p>
<p>All types of sockets can be used in a selector: </p><ul>
<li><a class="el" href="classacid_1_1_tcp_listener.html" title="A listener socket is a special type of socket that listens to a given port and waits for connections ...">acid::TcpListener</a> </li>
<li><a class="el" href="classacid_1_1_tcp_socket.html" title="Specialized socket using the TCP protocol.">acid::TcpSocket</a> </li>
<li><a class="el" href="classacid_1_1_udp_socket.html" title="A UDP socket is a connectionless socket. Instead of connecting once to a remote host,...">acid::UdpSocket</a></li>
</ul>
<p>A selector doesn't store its own copies of the sockets (socket classes are not copyable anyway), it simply keeps a reference to the original sockets that you pass to the "add" function. Therefore, you can't use the selector as a socket container, you must store them outside and make sure that they are alive as long as they are used in the selector.</p>
<p>Using a selector is simple: </p><ul>
<li>populate the selector with all the sockets that you want to observe </li>
<li>make it wait until there is data available on any of the sockets </li>
<li>test each socket to find out which ones are ready </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abb250b3cfd757f551a94f8872d2eaa08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb250b3cfd757f551a94f8872d2eaa08">&#9670;&nbsp;</a></span>SocketSelector() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">acid::SocketSelector::SocketSelector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default constructor. </p>

</div>
</div>
<a id="a55132883948e4dec0eca3b215570cda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55132883948e4dec0eca3b215570cda9">&#9670;&nbsp;</a></span>SocketSelector() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">acid::SocketSelector::SocketSelector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a> &amp;&#160;</td>
          <td class="paramname"><em>copy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy constructor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">copy</td><td><a class="el" href="classacid_1_1_instance.html">Instance</a> to copy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4632190ba698c86cdbad121ea22af7cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4632190ba698c86cdbad121ea22af7cd">&#9670;&nbsp;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acid::SocketSelector::Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classacid_1_1_socket.html">Socket</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new socket to the selector.</p>
<p>This function keeps a weak reference to the socket, so you have to make sure that the socket is not destroyed while it is stored in the selector. This function does nothing if the socket is not valid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>Reference to the socket to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63a3ba6a513048c936d40dcd7d7b3608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a3ba6a513048c936d40dcd7d7b3608">&#9670;&nbsp;</a></span>Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acid::SocketSelector::Clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove all the sockets stored in the selector. This function doesn't destroy any instance, it simply removes all the references that the selector has to external sockets. </p>

</div>
</div>
<a id="abc264d737619969d18d694c4672e1033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc264d737619969d18d694c4672e1033">&#9670;&nbsp;</a></span>IsReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool acid::SocketSelector::IsReady </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_socket.html">Socket</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test a socket to know if it is ready to receive data.</p>
<p>This function must be used after a call to Wait, to know which sockets are ready to receive data. If a socket is ready, a call to receive will never block because we know that there is data available to read. Note that if this function returns true for a <a class="el" href="classacid_1_1_tcp_listener.html" title="A listener socket is a special type of socket that listens to a given port and waits for connections ...">TcpListener</a>, this means that it is ready to accept a new connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td><a class="el" href="classacid_1_1_socket.html" title="This class mainly defines internal stuff to be used by derived classes.">Socket</a> to test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the socket is ready to read, false otherwise. </dd></dl>

</div>
</div>
<a id="acffa66e218e150a4abd7e428c7a81f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acffa66e218e150a4abd7e428c7a81f52">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a> &amp; acid::SocketSelector::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classacid_1_1_socket_selector.html">SocketSelector</a> &amp;&#160;</td>
          <td class="paramname"><em>right</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Overload of assignment operator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">right</td><td><a class="el" href="classacid_1_1_instance.html">Instance</a> to assign. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to self. </dd></dl>

</div>
</div>
<a id="a8a38c3a0924d271de15d3663c1f2354d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a38c3a0924d271de15d3663c1f2354d">&#9670;&nbsp;</a></span>Remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acid::SocketSelector::Remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classacid_1_1_socket.html">Socket</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a socket from the selector. This function doesn't destroy the socket, it simply removes the reference that the selector has to it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>Reference to the socket to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a96f61c57abc2398f9877bdd186def4ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f61c57abc2398f9877bdd186def4ae">&#9670;&nbsp;</a></span>Wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool acid::SocketSelector::Wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classacid_1_1_time.html">Time</a>&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0s</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait until one or more sockets are ready to receive. This function returns as soon as at least one socket has some data available to be received. To know which sockets are ready, use the isReady function. If you use a timeout and no socket is ready before the timeout is over, the function returns false. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Maximum time to wait, (use 0s for infinity). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if there are sockets ready, false otherwise. </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="ae20816dc0f12acbbf104dffc9607e4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20816dc0f12acbbf104dffc9607e4a9">&#9670;&nbsp;</a></span>impl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structacid_1_1_socket_selector_1_1_socket_selector_impl.html">SocketSelectorImpl</a>&gt; acid::SocketSelector::impl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opaque pointer to the implementation (which requires OS-specific types). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Sources/Network/<a class="el" href="_socket_selector_8hpp_source.html">SocketSelector.hpp</a></li>
<li>Sources/Network/<a class="el" href="_socket_selector_8cpp.html">SocketSelector.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>